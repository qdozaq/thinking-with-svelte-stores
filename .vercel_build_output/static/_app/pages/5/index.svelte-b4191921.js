import{S as w,i as $,s as k,w as S,x as A,y as q,q as h,o as m,B as E,k as M,e as B,X as C,d as f,m as R,c as T,a as j,b as D,g as p,p as I,Q as N,R as Q,v as V,n as W,T as X}from"../../chunks/index-30f8b6d8.js";import{w as y,d as z}from"../../chunks/index-7a6b9264.js";import F from"../../chunks/Slider-f655c176.js";import{s as G}from"../../chunks/index-056e7a80.js";const g=y(0),d=y(-1);function v(a,l,o){const r=a.slice();return r[5]=l[o].id,r[6]=l[o].el,r[7]=l,r[8]=o,r}function b(a){let l,o=a[7],r=a[8],i;const s=()=>a[1](l,o,r),u=()=>a[1](null,o,r);function n(){return a[2](a[5])}let t={};return l=new F({props:t}),s(),l.$on("mousedown",n),l.$on("input",a[3]),{c(){S(l.$$.fragment)},l(e){A(l.$$.fragment,e)},m(e,c){q(l,e,c),i=!0},p(e,c){a=e,(o!==a[7]||r!==a[8])&&(u(),o=a[7],r=a[8],s());const _={};l.$set(_)},i(e){i||(h(l.$$.fragment,e),i=!0)},o(e){m(l.$$.fragment,e),i=!1},d(e){u(),E(l,e)}}}function H(a){let l,o,r,i=a[0],s=[];for(let n=0;n<i.length;n+=1)s[n]=b(v(a,i,n));const u=n=>m(s[n],1,1,()=>{s[n]=null});return{c(){l=M(),o=B("div");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){C('[data-svelte="svelte-rpwej9"]',document.head).forEach(f),l=R(n),o=T(n,"DIV",{class:!0});var e=j(o);for(let c=0;c<s.length;c+=1)s[c].l(e);e.forEach(f),this.h()},h(){document.title="Relative Animation With Controlled State",D(o,"class","svelte-16ci6s4")},m(n,t){p(n,l,t),p(n,o,t);for(let e=0;e<s.length;e+=1)s[e].m(o,null);r=!0},p(n,[t]){if(t&1){i=n[0];let e;for(e=0;e<i.length;e+=1){const c=v(n,i,e);s[e]?(s[e].p(c,t),h(s[e],1)):(s[e]=b(c),s[e].c(),h(s[e],1),s[e].m(o,null))}for(W(),e=i.length;e<s.length;e+=1)u(e);I()}},i(n){if(!r){for(let t=0;t<i.length;t+=1)h(s[t]);r=!0}},o(n){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)m(s[t]);r=!1},d(n){n&&f(l),n&&f(o),N(s,n)}}}const J=10;function K(a,l,o){let r;Q(a,d,t=>o(4,r=t));let i=Array.from(Array(J).keys()).map(t=>({id:t,el:null,delay:z([g,d],([e,c],_)=>{t!==c&&setTimeout(()=>_(e),Math.abs(t-c)*100)},0),value:G(0,{stiffness:.1})}));i.forEach(t=>{t.delay.subscribe(e=>{let c=i.length,_=Math.abs(t.id-r);t.value.damping=1-(_/c*.5+.45),t.value.set(e)}),t.value.subscribe(e=>{t.el&&(t.el.value=e)})}),V(()=>d.set(-1));function s(t,e,c){X[t?"unshift":"push"](()=>{e[c].el=t,o(0,i)})}return[i,s,t=>{d.set(t)},t=>t.target&&g.set(t.target.valueAsNumber)]}class Y extends w{constructor(l){super(),$(this,l,K,H,k,{})}}export{Y as default};
