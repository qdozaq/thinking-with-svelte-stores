import{S as J,i as L,s as N,Z as q,_ as C,a as E,d,b as v,g as w,k as M,e as D,t as T,l as V,X as O,m as X,c as I,h as H,K as k,M as P,E as K,Q,R as U,T as R}from"../../chunks/index-30f8b6d8.js";import{d as Y,w as W}from"../../chunks/index-7a6b9264.js";import{s as Z}from"../../chunks/index-056e7a80.js";function j(l,t,r){const a=l.slice();return a[9]=t[r].el,a[10]=t[r].id,a[11]=t,a[12]=r,a}function z(l,t,r){const a=l.slice();return a[9]=t[r].el,a[10]=t[r].id,a[13]=t,a[14]=r,a}function B(l){let t,r,a=l[13],u=l[14];const m=()=>l[5](t,a,u),f=()=>l[5](null,a,u);return{c(){t=q("circle"),this.h()},l(c){t=C(c,"circle",{class:!0,r:!0}),E(t).forEach(d),this.h()},h(){v(t,"class","shared svelte-1n39dvw"),v(t,"r",r=10-l[10])},m(c,o){w(c,t,o),m()},p(c,o){l=c,o&1&&r!==(r=10-l[10])&&v(t,"r",r),(a!==l[13]||u!==l[14])&&(f(),a=l[13],u=l[14],m())},d(c){c&&d(t),f()}}}function F(l){let t,r,a=l[11],u=l[12];const m=()=>l[6](t,a,u),f=()=>l[6](null,a,u);return{c(){t=q("circle"),this.h()},l(c){t=C(c,"circle",{class:!0,r:!0}),E(t).forEach(d),this.h()},h(){v(t,"class","relative svelte-1n39dvw"),v(t,"r",r=10-l[10])},m(c,o){w(c,t,o),m()},p(c,o){l=c,o&2&&r!==(r=10-l[10])&&v(t,"r",r),(a!==l[11]||u!==l[12])&&(f(),a=l[11],u=l[12],m())},d(c){c&&d(t),f()}}}function x(l){let t,r,a,u,m,f,c,o,y,S,A,n=l[0],i=[];for(let e=0;e<n.length;e+=1)i[e]=B(z(l,n,e));let _=l[1],h=[];for(let e=0;e<_.length;e+=1)h[e]=F(j(l,_,e));return{c(){t=M(),r=D("h3"),a=T("Shared Spring: "),u=D("div"),m=T(`
	Individual Springs:
	`),f=D("div"),c=M(),o=q("svg");for(let e=0;e<i.length;e+=1)i[e].c();y=V();for(let e=0;e<h.length;e+=1)h[e].c();this.h()},l(e){O('[data-svelte="svelte-l0rnfi"]',document.head).forEach(d),t=X(e),r=I(e,"H3",{});var s=E(r);a=H(s,"Shared Spring: "),u=I(s,"DIV",{class:!0}),E(u).forEach(d),m=H(s,`
	Individual Springs:
	`),f=I(s,"DIV",{class:!0}),E(f).forEach(d),s.forEach(d),c=X(e),o=C(e,"svg",{class:!0});var g=E(o);for(let b=0;b<i.length;b+=1)i[b].l(g);y=V();for(let b=0;b<h.length;b+=1)h[b].l(g);g.forEach(d),this.h()},h(){document.title="Dots Example",v(u,"class","shared square svelte-1n39dvw"),v(f,"class","relative square svelte-1n39dvw"),v(o,"class","svelte-1n39dvw")},m(e,p){w(e,t,p),w(e,r,p),k(r,a),k(r,u),k(r,m),k(r,f),w(e,c,p),w(e,o,p);for(let s=0;s<i.length;s+=1)i[s].m(o,null);k(o,y);for(let s=0;s<h.length;s+=1)h[s].m(o,null);S||(A=P(window,"mousemove",l[4]),S=!0)},p(e,[p]){if(p&1){n=e[0];let s;for(s=0;s<n.length;s+=1){const g=z(e,n,s);i[s]?i[s].p(g,p):(i[s]=B(g),i[s].c(),i[s].m(o,y))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}if(p&2){_=e[1];let s;for(s=0;s<_.length;s+=1){const g=j(e,_,s);h[s]?h[s].p(g,p):(h[s]=F(g),h[s].c(),h[s].m(o,null))}for(;s<h.length;s+=1)h[s].d(1);h.length=_.length}},i:K,o:K,d(e){e&&d(t),e&&d(r),e&&d(c),e&&d(o),Q(i,e),Q(h,e),S=!1,A()}}}const G=5;function $(l,t,r){let a;const u=W({x:0,y:0});U(l,u,n=>r(3,a=n));const m=Array.from(Array(G).keys()),f=Z({x:0,y:0},{stiffness:.1}),c=m.map(n=>({id:n,coords:Y(f,(i,_)=>{setTimeout(()=>_(i),n*100)},{x:0,y:0}),el:null}));c.forEach(n=>{n.coords.subscribe(({x:i,y:_})=>{var h,e;(h=n.el)==null||h.setAttribute("cx",i),(e=n.el)==null||e.setAttribute("cy",_)})});const o=Array.from(Array(G).keys()).map(n=>({id:n,delay:Y(u,(i,_)=>{setTimeout(()=>_(i),n*100)},{x:0,y:0}),spring:Z({x:0,y:0},{stiffness:.1}),el:null}));o.forEach(n=>{n.delay.subscribe(i=>{let _=o.length;n.spring.damping=1-(n.id/_*.5+.45),n.spring.set(i)}),n.spring.subscribe(i=>{var _,h;(_=n.el)==null||_.setAttribute("cx",i.x),(h=n.el)==null||h.setAttribute("cy",i.y)})});const y=n=>u.set({x:n.clientX,y:n.clientY});function S(n,i,_){R[n?"unshift":"push"](()=>{i[_].el=n,r(0,c)})}function A(n,i,_){R[n?"unshift":"push"](()=>{i[_].el=n,r(1,o)})}return l.$$.update=()=>{l.$$.dirty&8&&f.set(a)},[c,o,u,a,y,S,A]}class te extends J{constructor(t){super(),L(this,t,$,x,N,{})}}export{te as default};
